function cov_1bw7smlzdc(){var path="/Users/hayatialikeles/Desktop/projects/custom_package/node_pacgage/core/autoInvalidate.js";var hash="74d5b0d698b83a6ebbc55ea57556514b51530f8e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/hayatialikeles/Desktop/projects/custom_package/node_pacgage/core/autoInvalidate.js",statementMap:{"0":{start:{line:8,column:30},end:{line:8,column:35}},"1":{start:{line:9,column:24},end:{line:9,column:26}},"2":{start:{line:18,column:4},end:{line:18,column:55}},"3":{start:{line:19,column:4},end:{line:19,column:44}},"4":{start:{line:26,column:4},end:{line:26,column:84}},"5":{start:{line:36,column:24},end:{line:36,column:63}},"6":{start:{line:37,column:4},end:{line:37,column:43}},"7":{start:{line:37,column:21},end:{line:37,column:43}},"8":{start:{line:40,column:24},end:{line:40,column:56}},"9":{start:{line:41,column:4},end:{line:41,column:43}},"10":{start:{line:41,column:21},end:{line:41,column:43}},"11":{start:{line:44,column:24},end:{line:44,column:63}},"12":{start:{line:45,column:4},end:{line:45,column:43}},"13":{start:{line:45,column:21},end:{line:45,column:43}},"14":{start:{line:48,column:25},end:{line:48,column:65}},"15":{start:{line:49,column:4},end:{line:49,column:45}},"16":{start:{line:49,column:22},end:{line:49,column:45}},"17":{start:{line:51,column:4},end:{line:51,column:16}},"18":{start:{line:60,column:4},end:{line:60,column:66}},"19":{start:{line:69,column:4},end:{line:69,column:30}},"20":{start:{line:69,column:20},end:{line:69,column:30}},"21":{start:{line:72,column:4},end:{line:75,column:5}},"22":{start:{line:73,column:22},end:{line:73,column:50}},"23":{start:{line:74,column:8},end:{line:74,column:54}},"24":{start:{line:78,column:4},end:{line:78,column:48}},"25":{start:{line:89,column:4},end:{line:91,column:5}},"26":{start:{line:90,column:8},end:{line:90,column:78}},"27":{start:{line:94,column:4},end:{line:96,column:5}},"28":{start:{line:95,column:8},end:{line:95,column:18}},"29":{start:{line:99,column:4},end:{line:101,column:5}},"30":{start:{line:100,column:8},end:{line:100,column:18}},"31":{start:{line:104,column:22},end:{line:104,column:43}},"32":{start:{line:105,column:4},end:{line:105,column:46}},"33":{start:{line:108,column:0},end:{line:115,column:2}}},fnMap:{"0":{name:"enableAutoInvalidation",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:20,column:1}},line:17},"1":{name:"isAutoInvalidationEnabled",decl:{start:{line:25,column:9},end:{line:25,column:34}},loc:{start:{line:25,column:37},end:{line:27,column:1}},line:25},"2":{name:"extractTableName",decl:{start:{line:34,column:9},end:{line:34,column:25}},loc:{start:{line:34,column:31},end:{line:52,column:1}},line:34},"3":{name:"isWriteOperation",decl:{start:{line:59,column:9},end:{line:59,column:25}},loc:{start:{line:59,column:31},end:{line:61,column:1}},line:59},"4":{name:"getInvalidationPatterns",decl:{start:{line:68,column:9},end:{line:68,column:32}},loc:{start:{line:68,column:44},end:{line:79,column:1}},line:68},"5":{name:"determineInvalidationPatterns",decl:{start:{line:87,column:9},end:{line:87,column:38}},loc:{start:{line:87,column:66},end:{line:106,column:1}},line:87}},branchMap:{"0":{loc:{start:{line:17,column:32},end:{line:17,column:43}},type:"default-arg",locations:[{start:{line:17,column:41},end:{line:17,column:43}}],line:17},"1":{loc:{start:{line:19,column:24},end:{line:19,column:43}},type:"binary-expr",locations:[{start:{line:19,column:24},end:{line:19,column:37}},{start:{line:19,column:41},end:{line:19,column:43}}],line:19},"2":{loc:{start:{line:26,column:11},end:{line:26,column:83}},type:"binary-expr",locations:[{start:{line:26,column:11},end:{line:26,column:34}},{start:{line:26,column:38},end:{line:26,column:83}}],line:26},"3":{loc:{start:{line:37,column:4},end:{line:37,column:43}},type:"if",locations:[{start:{line:37,column:4},end:{line:37,column:43}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:37},"4":{loc:{start:{line:41,column:4},end:{line:41,column:43}},type:"if",locations:[{start:{line:41,column:4},end:{line:41,column:43}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:41},"5":{loc:{start:{line:45,column:4},end:{line:45,column:43}},type:"if",locations:[{start:{line:45,column:4},end:{line:45,column:43}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:45},"6":{loc:{start:{line:49,column:4},end:{line:49,column:45}},type:"if",locations:[{start:{line:49,column:4},end:{line:49,column:45}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:49},"7":{loc:{start:{line:69,column:4},end:{line:69,column:30}},type:"if",locations:[{start:{line:69,column:4},end:{line:69,column:30}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:69},"8":{loc:{start:{line:72,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:72,column:4},end:{line:75,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:72},"9":{loc:{start:{line:74,column:15},end:{line:74,column:53}},type:"cond-expr",locations:[{start:{line:74,column:38},end:{line:74,column:43}},{start:{line:74,column:46},end:{line:74,column:53}}],line:74},"10":{loc:{start:{line:87,column:44},end:{line:87,column:64}},type:"default-arg",locations:[{start:{line:87,column:60},end:{line:87,column:64}}],line:87},"11":{loc:{start:{line:89,column:4},end:{line:91,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:91,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:89},"12":{loc:{start:{line:90,column:15},end:{line:90,column:77}},type:"cond-expr",locations:[{start:{line:90,column:46},end:{line:90,column:59}},{start:{line:90,column:62},end:{line:90,column:77}}],line:90},"13":{loc:{start:{line:94,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:96,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:94},"14":{loc:{start:{line:99,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:99,column:4},end:{line:101,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:99}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"74d5b0d698b83a6ebbc55ea57556514b51530f8e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1bw7smlzdc=function(){return actualCoverage;};}return actualCoverage;}cov_1bw7smlzdc();/**
 * Auto Invalidation Module (v2.6.0)
 *
 * Automatically invalidates cache when write operations (INSERT/UPDATE/DELETE) occur.
 * Disabled by default for backward compatibility.
 */let autoInvalidationEnabled=(cov_1bw7smlzdc().s[0]++,false);let invalidationRules=(cov_1bw7smlzdc().s[1]++,{});/**
 * Enables auto invalidation feature
 * @param {Object} config - Configuration options
 * @param {boolean} config.enabled - Enable/disable auto invalidation
 * @param {Object} config.tables - Table-specific invalidation patterns
 */function enableAutoInvalidation(config=(cov_1bw7smlzdc().b[0][0]++,{})){cov_1bw7smlzdc().f[0]++;cov_1bw7smlzdc().s[2]++;autoInvalidationEnabled=config.enabled!==false;cov_1bw7smlzdc().s[3]++;invalidationRules=(cov_1bw7smlzdc().b[1][0]++,config.tables)||(cov_1bw7smlzdc().b[1][1]++,{});}/**
 * Checks if auto invalidation is enabled
 */function isAutoInvalidationEnabled(){cov_1bw7smlzdc().f[1]++;cov_1bw7smlzdc().s[4]++;return(cov_1bw7smlzdc().b[2][0]++,autoInvalidationEnabled)||(cov_1bw7smlzdc().b[2][1]++,process.env.CORE_AUTO_INVALIDATION==='true');}/**
 * Extracts table name from SQL query
 * @param {string} sql - SQL query
 * @returns {string|null} - Table name or null
 */function extractTableName(sql){cov_1bw7smlzdc().f[2]++;// INSERT INTO users...
const insertMatch=(cov_1bw7smlzdc().s[5]++,sql.match(/INSERT\s+INTO\s+`?(\w+)`?/i));cov_1bw7smlzdc().s[6]++;if(insertMatch){cov_1bw7smlzdc().b[3][0]++;cov_1bw7smlzdc().s[7]++;return insertMatch[1];}else{cov_1bw7smlzdc().b[3][1]++;}// UPDATE users SET...
const updateMatch=(cov_1bw7smlzdc().s[8]++,sql.match(/UPDATE\s+`?(\w+)`?/i));cov_1bw7smlzdc().s[9]++;if(updateMatch){cov_1bw7smlzdc().b[4][0]++;cov_1bw7smlzdc().s[10]++;return updateMatch[1];}else{cov_1bw7smlzdc().b[4][1]++;}// DELETE FROM users...
const deleteMatch=(cov_1bw7smlzdc().s[11]++,sql.match(/DELETE\s+FROM\s+`?(\w+)`?/i));cov_1bw7smlzdc().s[12]++;if(deleteMatch){cov_1bw7smlzdc().b[5][0]++;cov_1bw7smlzdc().s[13]++;return deleteMatch[1];}else{cov_1bw7smlzdc().b[5][1]++;}// REPLACE INTO users...
const replaceMatch=(cov_1bw7smlzdc().s[14]++,sql.match(/REPLACE\s+INTO\s+`?(\w+)`?/i));cov_1bw7smlzdc().s[15]++;if(replaceMatch){cov_1bw7smlzdc().b[6][0]++;cov_1bw7smlzdc().s[16]++;return replaceMatch[1];}else{cov_1bw7smlzdc().b[6][1]++;}cov_1bw7smlzdc().s[17]++;return null;}/**
 * Checks if SQL is a write operation
 * @param {string} sql - SQL query
 * @returns {boolean}
 */function isWriteOperation(sql){cov_1bw7smlzdc().f[3]++;cov_1bw7smlzdc().s[18]++;return /^\s*(INSERT|UPDATE|DELETE|REPLACE)/i.test(sql.trim());}/**
 * Gets invalidation patterns for a table
 * @param {string} tableName - Table name
 * @returns {Array<string>} - Array of cache key patterns to invalidate
 */function getInvalidationPatterns(tableName){cov_1bw7smlzdc().f[4]++;cov_1bw7smlzdc().s[19]++;if(!tableName){cov_1bw7smlzdc().b[7][0]++;cov_1bw7smlzdc().s[20]++;return[];}else{cov_1bw7smlzdc().b[7][1]++;}// User-defined rules take priority
cov_1bw7smlzdc().s[21]++;if(invalidationRules[tableName]){cov_1bw7smlzdc().b[8][0]++;const rules=(cov_1bw7smlzdc().s[22]++,invalidationRules[tableName]);cov_1bw7smlzdc().s[23]++;return Array.isArray(rules)?(cov_1bw7smlzdc().b[9][0]++,rules):(cov_1bw7smlzdc().b[9][1]++,[rules]);}else{cov_1bw7smlzdc().b[8][1]++;}// Default patterns: tableName_* and tableName:*
cov_1bw7smlzdc().s[24]++;return[`${tableName}_*`,`${tableName}:*`];}/**
 * Determines which cache patterns should be invalidated for a query
 * @param {string} sql - SQL query
 * @param {string|null} manualPattern - Manual invalidation pattern (takes priority)
 * @returns {Array<string>} - Array of patterns to invalidate
 */function determineInvalidationPatterns(sql,manualPattern=(cov_1bw7smlzdc().b[10][0]++,null)){cov_1bw7smlzdc().f[5]++;cov_1bw7smlzdc().s[25]++;// Manual pattern takes priority
if(manualPattern){cov_1bw7smlzdc().b[11][0]++;cov_1bw7smlzdc().s[26]++;return Array.isArray(manualPattern)?(cov_1bw7smlzdc().b[12][0]++,manualPattern):(cov_1bw7smlzdc().b[12][1]++,[manualPattern]);}else{cov_1bw7smlzdc().b[11][1]++;}// Auto invalidation only if enabled
cov_1bw7smlzdc().s[27]++;if(!isAutoInvalidationEnabled()){cov_1bw7smlzdc().b[13][0]++;cov_1bw7smlzdc().s[28]++;return[];}else{cov_1bw7smlzdc().b[13][1]++;}// Check if this is a write operation
cov_1bw7smlzdc().s[29]++;if(!isWriteOperation(sql)){cov_1bw7smlzdc().b[14][0]++;cov_1bw7smlzdc().s[30]++;return[];}else{cov_1bw7smlzdc().b[14][1]++;}// Extract table name and get patterns
const tableName=(cov_1bw7smlzdc().s[31]++,extractTableName(sql));cov_1bw7smlzdc().s[32]++;return getInvalidationPatterns(tableName);}cov_1bw7smlzdc().s[33]++;module.exports={enableAutoInvalidation,isAutoInvalidationEnabled,extractTableName,isWriteOperation,getInvalidationPatterns,determineInvalidationPatterns};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWJ3N3NtbHpkYyIsImFjdHVhbENvdmVyYWdlIiwiYXV0b0ludmFsaWRhdGlvbkVuYWJsZWQiLCJzIiwiaW52YWxpZGF0aW9uUnVsZXMiLCJlbmFibGVBdXRvSW52YWxpZGF0aW9uIiwiY29uZmlnIiwiYiIsImYiLCJlbmFibGVkIiwidGFibGVzIiwiaXNBdXRvSW52YWxpZGF0aW9uRW5hYmxlZCIsInByb2Nlc3MiLCJlbnYiLCJDT1JFX0FVVE9fSU5WQUxJREFUSU9OIiwiZXh0cmFjdFRhYmxlTmFtZSIsInNxbCIsImluc2VydE1hdGNoIiwibWF0Y2giLCJ1cGRhdGVNYXRjaCIsImRlbGV0ZU1hdGNoIiwicmVwbGFjZU1hdGNoIiwiaXNXcml0ZU9wZXJhdGlvbiIsInRlc3QiLCJ0cmltIiwiZ2V0SW52YWxpZGF0aW9uUGF0dGVybnMiLCJ0YWJsZU5hbWUiLCJydWxlcyIsIkFycmF5IiwiaXNBcnJheSIsImRldGVybWluZUludmFsaWRhdGlvblBhdHRlcm5zIiwibWFudWFsUGF0dGVybiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhdXRvSW52YWxpZGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dG8gSW52YWxpZGF0aW9uIE1vZHVsZSAodjIuNi4wKVxuICpcbiAqIEF1dG9tYXRpY2FsbHkgaW52YWxpZGF0ZXMgY2FjaGUgd2hlbiB3cml0ZSBvcGVyYXRpb25zIChJTlNFUlQvVVBEQVRFL0RFTEVURSkgb2NjdXIuXG4gKiBEaXNhYmxlZCBieSBkZWZhdWx0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICovXG5cbmxldCBhdXRvSW52YWxpZGF0aW9uRW5hYmxlZCA9IGZhbHNlO1xubGV0IGludmFsaWRhdGlvblJ1bGVzID0ge307XG5cbi8qKlxuICogRW5hYmxlcyBhdXRvIGludmFsaWRhdGlvbiBmZWF0dXJlXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNvbmZpZy5lbmFibGVkIC0gRW5hYmxlL2Rpc2FibGUgYXV0byBpbnZhbGlkYXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcudGFibGVzIC0gVGFibGUtc3BlY2lmaWMgaW52YWxpZGF0aW9uIHBhdHRlcm5zXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZUF1dG9JbnZhbGlkYXRpb24oY29uZmlnID0ge30pIHtcbiAgICBhdXRvSW52YWxpZGF0aW9uRW5hYmxlZCA9IGNvbmZpZy5lbmFibGVkICE9PSBmYWxzZTtcbiAgICBpbnZhbGlkYXRpb25SdWxlcyA9IGNvbmZpZy50YWJsZXMgfHwge307XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGF1dG8gaW52YWxpZGF0aW9uIGlzIGVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gaXNBdXRvSW52YWxpZGF0aW9uRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gYXV0b0ludmFsaWRhdGlvbkVuYWJsZWQgfHwgcHJvY2Vzcy5lbnYuQ09SRV9BVVRPX0lOVkFMSURBVElPTiA9PT0gJ3RydWUnO1xufVxuXG4vKipcbiAqIEV4dHJhY3RzIHRhYmxlIG5hbWUgZnJvbSBTUUwgcXVlcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcWwgLSBTUUwgcXVlcnlcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gLSBUYWJsZSBuYW1lIG9yIG51bGxcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFRhYmxlTmFtZShzcWwpIHtcbiAgICAvLyBJTlNFUlQgSU5UTyB1c2Vycy4uLlxuICAgIGNvbnN0IGluc2VydE1hdGNoID0gc3FsLm1hdGNoKC9JTlNFUlRcXHMrSU5UT1xccytgPyhcXHcrKWA/L2kpO1xuICAgIGlmIChpbnNlcnRNYXRjaCkgcmV0dXJuIGluc2VydE1hdGNoWzFdO1xuXG4gICAgLy8gVVBEQVRFIHVzZXJzIFNFVC4uLlxuICAgIGNvbnN0IHVwZGF0ZU1hdGNoID0gc3FsLm1hdGNoKC9VUERBVEVcXHMrYD8oXFx3KylgPy9pKTtcbiAgICBpZiAodXBkYXRlTWF0Y2gpIHJldHVybiB1cGRhdGVNYXRjaFsxXTtcblxuICAgIC8vIERFTEVURSBGUk9NIHVzZXJzLi4uXG4gICAgY29uc3QgZGVsZXRlTWF0Y2ggPSBzcWwubWF0Y2goL0RFTEVURVxccytGUk9NXFxzK2A/KFxcdyspYD8vaSk7XG4gICAgaWYgKGRlbGV0ZU1hdGNoKSByZXR1cm4gZGVsZXRlTWF0Y2hbMV07XG5cbiAgICAvLyBSRVBMQUNFIElOVE8gdXNlcnMuLi5cbiAgICBjb25zdCByZXBsYWNlTWF0Y2ggPSBzcWwubWF0Y2goL1JFUExBQ0VcXHMrSU5UT1xccytgPyhcXHcrKWA/L2kpO1xuICAgIGlmIChyZXBsYWNlTWF0Y2gpIHJldHVybiByZXBsYWNlTWF0Y2hbMV07XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgU1FMIGlzIGEgd3JpdGUgb3BlcmF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc3FsIC0gU1FMIHF1ZXJ5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNXcml0ZU9wZXJhdGlvbihzcWwpIHtcbiAgICByZXR1cm4gL15cXHMqKElOU0VSVHxVUERBVEV8REVMRVRFfFJFUExBQ0UpL2kudGVzdChzcWwudHJpbSgpKTtcbn1cblxuLyoqXG4gKiBHZXRzIGludmFsaWRhdGlvbiBwYXR0ZXJucyBmb3IgYSB0YWJsZVxuICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlTmFtZSAtIFRhYmxlIG5hbWVcbiAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fSAtIEFycmF5IG9mIGNhY2hlIGtleSBwYXR0ZXJucyB0byBpbnZhbGlkYXRlXG4gKi9cbmZ1bmN0aW9uIGdldEludmFsaWRhdGlvblBhdHRlcm5zKHRhYmxlTmFtZSkge1xuICAgIGlmICghdGFibGVOYW1lKSByZXR1cm4gW107XG5cbiAgICAvLyBVc2VyLWRlZmluZWQgcnVsZXMgdGFrZSBwcmlvcml0eVxuICAgIGlmIChpbnZhbGlkYXRpb25SdWxlc1t0YWJsZU5hbWVdKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVzID0gaW52YWxpZGF0aW9uUnVsZXNbdGFibGVOYW1lXTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocnVsZXMpID8gcnVsZXMgOiBbcnVsZXNdO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgcGF0dGVybnM6IHRhYmxlTmFtZV8qIGFuZCB0YWJsZU5hbWU6KlxuICAgIHJldHVybiBbYCR7dGFibGVOYW1lfV8qYCwgYCR7dGFibGVOYW1lfToqYF07XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGljaCBjYWNoZSBwYXR0ZXJucyBzaG91bGQgYmUgaW52YWxpZGF0ZWQgZm9yIGEgcXVlcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcWwgLSBTUUwgcXVlcnlcbiAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IG1hbnVhbFBhdHRlcm4gLSBNYW51YWwgaW52YWxpZGF0aW9uIHBhdHRlcm4gKHRha2VzIHByaW9yaXR5KVxuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IC0gQXJyYXkgb2YgcGF0dGVybnMgdG8gaW52YWxpZGF0ZVxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVJbnZhbGlkYXRpb25QYXR0ZXJucyhzcWwsIG1hbnVhbFBhdHRlcm4gPSBudWxsKSB7XG4gICAgLy8gTWFudWFsIHBhdHRlcm4gdGFrZXMgcHJpb3JpdHlcbiAgICBpZiAobWFudWFsUGF0dGVybikge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShtYW51YWxQYXR0ZXJuKSA/IG1hbnVhbFBhdHRlcm4gOiBbbWFudWFsUGF0dGVybl07XG4gICAgfVxuXG4gICAgLy8gQXV0byBpbnZhbGlkYXRpb24gb25seSBpZiBlbmFibGVkXG4gICAgaWYgKCFpc0F1dG9JbnZhbGlkYXRpb25FbmFibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSB3cml0ZSBvcGVyYXRpb25cbiAgICBpZiAoIWlzV3JpdGVPcGVyYXRpb24oc3FsKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCB0YWJsZSBuYW1lIGFuZCBnZXQgcGF0dGVybnNcbiAgICBjb25zdCB0YWJsZU5hbWUgPSBleHRyYWN0VGFibGVOYW1lKHNxbCk7XG4gICAgcmV0dXJuIGdldEludmFsaWRhdGlvblBhdHRlcm5zKHRhYmxlTmFtZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGVuYWJsZUF1dG9JbnZhbGlkYXRpb24sXG4gICAgaXNBdXRvSW52YWxpZGF0aW9uRW5hYmxlZCxcbiAgICBleHRyYWN0VGFibGVOYW1lLFxuICAgIGlzV3JpdGVPcGVyYXRpb24sXG4gICAgZ2V0SW52YWxpZGF0aW9uUGF0dGVybnMsXG4gICAgZGV0ZXJtaW5lSW52YWxpZGF0aW9uUGF0dGVybnNcbn07XG4iXSwibWFwcGluZ3MiOiIrM05BZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBRUEsR0FBSSxDQUFBRSx1QkFBdUIsRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUcsS0FBSyxFQUNuQyxHQUFJLENBQUFDLGlCQUFpQixFQUFBSixjQUFBLEdBQUFHLENBQUEsTUFBRyxDQUFDLENBQUMsRUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQ0EsUUFBUyxDQUFBRSxzQkFBc0JBLENBQUNDLE1BQU0sRUFBQU4sY0FBQSxHQUFBTyxDQUFBLFNBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQVAsY0FBQSxHQUFBUSxDQUFBLE1BQUFSLGNBQUEsR0FBQUcsQ0FBQSxNQUN6Q0QsdUJBQXVCLENBQUdJLE1BQU0sQ0FBQ0csT0FBTyxHQUFLLEtBQUssQ0FBQ1QsY0FBQSxHQUFBRyxDQUFBLE1BQ25EQyxpQkFBaUIsQ0FBRyxDQUFBSixjQUFBLEdBQUFPLENBQUEsU0FBQUQsTUFBTSxDQUFDSSxNQUFNLElBQUFWLGNBQUEsR0FBQU8sQ0FB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